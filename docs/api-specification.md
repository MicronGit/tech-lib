# ğŸ“– APIä»•æ§˜æ›¸ - æŠ€è¡“æ›¸ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

> RESTful APIè¨­è¨ˆã«åŸºã¥ãæŠ€è¡“æ›¸ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIä»•æ§˜

## ğŸ“‹ æ¦‚è¦

### APIåŸºæœ¬æƒ…å ±
- **ãƒ™ãƒ¼ã‚¹URL**: `http://localhost:8080/api`
- **ãƒ—ãƒ­ãƒˆã‚³ãƒ«**: HTTP/HTTPS
- **èªè¨¼æ–¹å¼**: JWT Bearer Tokenï¼ˆå®Ÿè£…äºˆå®šï¼‰
- **ãƒ‡ãƒ¼ã‚¿å½¢å¼**: JSON
- **æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°**: UTF-8

### ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼
```json
{
  "success": true,
  "data": {},
  "message": "æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸",
  "timestamp": "2025-06-15T12:00:00Z"
}
```

## ğŸ“š æ›¸ç±ç®¡ç†API

### ğŸ“– æ›¸ç±ä¸€è¦§å–å¾—

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```http
GET /api/books
```

#### ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ | ä¾‹ |
|-----------|---|------|------|---|
| `page` | integer | Ã— | ãƒšãƒ¼ã‚¸ç•ªå·ï¼ˆ1ã‹ã‚‰é–‹å§‹ï¼‰ | `1` |
| `limit` | integer | Ã— | 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•° | `20` |
| `search` | string | Ã— | ã‚¿ã‚¤ãƒˆãƒ«æ¤œç´¢ | `JavaScript` |
| `genre` | string | Ã— | ã‚¸ãƒ£ãƒ³ãƒ«ãƒ•ã‚£ãƒ«ã‚¿ | `ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°` |
| `language` | string | Ã— | è¨€èªãƒ•ã‚£ãƒ«ã‚¿ | `æ—¥æœ¬èª` |
| `sort` | string | Ã— | ã‚½ãƒ¼ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | `title` |
| `order` | string | Ã— | ã‚½ãƒ¼ãƒˆé †åº (`asc`/`desc`) | `asc` |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹
```json
{
  "success": true,
  "data": {
    "books": [
      {
        "id": 1,
        "title": "Vue.js 3 å®Œå…¨ã‚¬ã‚¤ãƒ‰",
        "author": "å±±ç”°å¤ªéƒ",
        "publisher": "æŠ€è¡“å‡ºç‰ˆç¤¾",
        "publicationDate": "2024-01-15",
        "genre": "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°",
        "pageCount": 450,
        "language": "æ—¥æœ¬èª",
        "owner": "ç”°ä¸­èŠ±å­",
        "description": "Vue.js 3ã®åŸºç¤ã‹ã‚‰å¿œç”¨ã¾ã§è©³ã—ãè§£èª¬",
        "status": "available",
        "createdAt": "2025-06-15T10:00:00Z",
        "updatedAt": "2025-06-15T10:00:00Z"
      }
    ],
    "pagination": {
      "currentPage": 1,
      "totalPages": 5,
      "totalItems": 89,
      "itemsPerPage": 20
    }
  },
  "message": "æ›¸ç±ä¸€è¦§ã‚’å–å¾—ã—ã¾ã—ãŸ",
  "timestamp": "2025-06-15T12:00:00Z"
}
```

### ğŸ“ æ›¸ç±ç™»éŒ²

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```http
POST /api/books
Content-Type: application/json
```

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£
```json
{
  "title": "Vue.js 3 å®Œå…¨ã‚¬ã‚¤ãƒ‰",
  "author": "å±±ç”°å¤ªéƒ",
  "publisher": "æŠ€è¡“å‡ºç‰ˆç¤¾",
  "publicationDate": "2024-01-15",
  "genre": "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°",
  "pageCount": 450,
  "language": "æ—¥æœ¬èª",
  "owner": "ç”°ä¸­èŠ±å­",
  "description": "Vue.js 3ã®åŸºç¤ã‹ã‚‰å¿œç”¨ã¾ã§è©³ã—ãè§£èª¬",
  "status": "available"
}
```

#### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«
| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | åˆ¶ç´„ |
|-----------|---|------|------|
| `title` | string | âœ“ | 1-200æ–‡å­— |
| `author` | string | âœ“ | 1-100æ–‡å­— |
| `publisher` | string | âœ“ | 1-100æ–‡å­— |
| `publicationDate` | string | Ã— | YYYY-MM-DDå½¢å¼ |
| `genre` | string | Ã— | é¸æŠè‚¢ã‹ã‚‰é¸æŠ |
| `pageCount` | integer | Ã— | 1ä»¥ä¸Š |
| `language` | string | Ã— | é¸æŠè‚¢ã‹ã‚‰é¸æŠ |
| `owner` | string | âœ“ | 1-50æ–‡å­— |
| `description` | string | Ã— | æœ€å¤§1000æ–‡å­— |
| `status` | string | Ã— | `available`/`borrowed`/`maintenance` |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹
```json
{
  "success": true,
  "data": {
    "book": {
      "id": 123,
      "title": "Vue.js 3 å®Œå…¨ã‚¬ã‚¤ãƒ‰",
      "author": "å±±ç”°å¤ªéƒ",
      "publisher": "æŠ€è¡“å‡ºç‰ˆç¤¾",
      "publicationDate": "2024-01-15",
      "genre": "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°",
      "pageCount": 450,
      "language": "æ—¥æœ¬èª",
      "owner": "ç”°ä¸­èŠ±å­",
      "description": "Vue.js 3ã®åŸºç¤ã‹ã‚‰å¿œç”¨ã¾ã§è©³ã—ãè§£èª¬",
      "status": "available",
      "createdAt": "2025-06-15T12:00:00Z",
      "updatedAt": "2025-06-15T12:00:00Z"
    }
  },
  "message": "æ›¸ç±ã‚’ç™»éŒ²ã—ã¾ã—ãŸ",
  "timestamp": "2025-06-15T12:00:00Z"
}
```

### ğŸ“– æ›¸ç±è©³ç´°å–å¾—

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```http
GET /api/books/{id}
```

#### ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | èª¬æ˜ |
|-----------|---|------|
| `id` | integer | æ›¸ç±ID |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹
```json
{
  "success": true,
  "data": {
    "book": {
      "id": 123,
      "title": "Vue.js 3 å®Œå…¨ã‚¬ã‚¤ãƒ‰",
      "author": "å±±ç”°å¤ªéƒ",
      "publisher": "æŠ€è¡“å‡ºç‰ˆç¤¾",
      "publicationDate": "2024-01-15",
      "genre": "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°",
      "pageCount": 450,
      "language": "æ—¥æœ¬èª",
      "owner": "ç”°ä¸­èŠ±å­",
      "description": "Vue.js 3ã®åŸºç¤ã‹ã‚‰å¿œç”¨ã¾ã§è©³ã—ãè§£èª¬",
      "status": "available",
      "createdAt": "2025-06-15T10:00:00Z",
      "updatedAt": "2025-06-15T10:00:00Z"
    }
  },
  "message": "æ›¸ç±è©³ç´°ã‚’å–å¾—ã—ã¾ã—ãŸ",
  "timestamp": "2025-06-15T12:00:00Z"
}
```

### âœï¸ æ›¸ç±æ›´æ–°

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```http
PUT /api/books/{id}
Content-Type: application/json
```

#### ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | èª¬æ˜ |
|-----------|---|------|
| `id` | integer | æ›¸ç±ID |

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£
```json
{
  "title": "Vue.js 3 å®Œå…¨ã‚¬ã‚¤ãƒ‰ æ”¹è¨‚ç‰ˆ",
  "author": "å±±ç”°å¤ªéƒ",
  "publisher": "æŠ€è¡“å‡ºç‰ˆç¤¾",
  "publicationDate": "2024-01-15",
  "genre": "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°",
  "pageCount": 500,
  "language": "æ—¥æœ¬èª",
  "owner": "ç”°ä¸­èŠ±å­",
  "description": "Vue.js 3ã®åŸºç¤ã‹ã‚‰å¿œç”¨ã¾ã§è©³ã—ãè§£èª¬ï¼ˆæ”¹è¨‚ç‰ˆï¼‰",
  "status": "available"
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹
```json
{
  "success": true,
  "data": {
    "book": {
      "id": 123,
      "title": "Vue.js 3 å®Œå…¨ã‚¬ã‚¤ãƒ‰ æ”¹è¨‚ç‰ˆ",
      "author": "å±±ç”°å¤ªéƒ",
      "publisher": "æŠ€è¡“å‡ºç‰ˆç¤¾",
      "publicationDate": "2024-01-15",
      "genre": "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°",
      "pageCount": 500,
      "language": "æ—¥æœ¬èª",
      "owner": "ç”°ä¸­èŠ±å­",
      "description": "Vue.js 3ã®åŸºç¤ã‹ã‚‰å¿œç”¨ã¾ã§è©³ã—ãè§£èª¬ï¼ˆæ”¹è¨‚ç‰ˆï¼‰",
      "status": "available",
      "createdAt": "2025-06-15T10:00:00Z",
      "updatedAt": "2025-06-15T12:00:00Z"
    }
  },
  "message": "æ›¸ç±ã‚’æ›´æ–°ã—ã¾ã—ãŸ",
  "timestamp": "2025-06-15T12:00:00Z"
}
```

### ğŸ—‘ï¸ æ›¸ç±å‰Šé™¤

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```http
DELETE /api/books/{id}
```

#### ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | èª¬æ˜ |
|-----------|---|------|
| `id` | integer | æ›¸ç±ID |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹
```json
{
  "success": true,
  "data": {},
  "message": "æ›¸ç±ã‚’å‰Šé™¤ã—ã¾ã—ãŸ",
  "timestamp": "2025-06-15T12:00:00Z"
}
```

## ğŸ”§ ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿API

### ğŸ“‚ ã‚¸ãƒ£ãƒ³ãƒ«ä¸€è¦§å–å¾—

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```http
GET /api/genres
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹
```json
{
  "success": true,
  "data": {
    "genres": [
      "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°",
      "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹",
      "ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯",
      "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£",
      "ã‚¯ãƒ©ã‚¦ãƒ‰",
      "AI",
      "ãƒ“ã‚¸ãƒã‚¹",
      "ãã®ä»–"
    ]
  },
  "message": "ã‚¸ãƒ£ãƒ³ãƒ«ä¸€è¦§ã‚’å–å¾—ã—ã¾ã—ãŸ",
  "timestamp": "2025-06-15T12:00:00Z"
}
```

### ğŸŒ è¨€èªä¸€è¦§å–å¾—

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```http
GET /api/languages
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹
```json
{
  "success": true,
  "data": {
    "languages": [
      "æ—¥æœ¬èª",
      "è‹±èª",
      "ãã®ä»–"
    ]
  },
  "message": "è¨€èªä¸€è¦§ã‚’å–å¾—ã—ã¾ã—ãŸ",
  "timestamp": "2025-06-15T12:00:00Z"
}
```

## âŒ ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹

### ã‚¨ãƒ©ãƒ¼å½¢å¼
```json
{
  "success": false,
  "data": null,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "å…¥åŠ›å€¤ã«èª¤ã‚ŠãŒã‚ã‚Šã¾ã™",
    "details": [
      {
        "field": "title",
        "message": "ã‚¿ã‚¤ãƒˆãƒ«ã¯å¿…é ˆã§ã™"
      }
    ]
  },
  "timestamp": "2025-06-15T12:00:00Z"
}
```

### ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ä¸€è¦§

| HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ | èª¬æ˜ |
|---------------|-------------|------|
| 400 | `VALIDATION_ERROR` | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ |
| 400 | `INVALID_REQUEST` | ä¸æ­£ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ |
| 401 | `UNAUTHORIZED` | èªè¨¼ãŒå¿…è¦ |
| 403 | `FORBIDDEN` | ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã— |
| 404 | `NOT_FOUND` | ãƒªã‚½ãƒ¼ã‚¹ãŒè¦‹ã¤ã‹ã‚‰ãªã„ |
| 409 | `CONFLICT` | ãƒ‡ãƒ¼ã‚¿ã®ç«¶åˆ |
| 500 | `INTERNAL_ERROR` | ã‚µãƒ¼ãƒãƒ¼å†…éƒ¨ã‚¨ãƒ©ãƒ¼ |

### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ä¾‹
```json
{
  "success": false,
  "data": null,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "å…¥åŠ›å€¤ã«èª¤ã‚ŠãŒã‚ã‚Šã¾ã™",
    "details": [
      {
        "field": "title",
        "message": "ã‚¿ã‚¤ãƒˆãƒ«ã¯1æ–‡å­—ä»¥ä¸Š200æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„"
      },
      {
        "field": "pageCount",
        "message": "ãƒšãƒ¼ã‚¸æ•°ã¯1ä»¥ä¸Šã®æ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
      }
    ]
  },
  "timestamp": "2025-06-15T12:00:00Z"
}
```

## ğŸ” èªè¨¼ãƒ»èªå¯ï¼ˆå®Ÿè£…äºˆå®šï¼‰

### èªè¨¼æ–¹å¼
- **JWT Bearer Token**: APIã‚¢ã‚¯ã‚»ã‚¹ç”¨
- **ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³**: ãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–°ç”¨

### èªè¨¼ãƒ•ãƒ­ãƒ¼
1. ãƒ­ã‚°ã‚¤ãƒ³ â†’ JWTãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ
2. APIãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã«Bearer Tokenä»˜ä¸
3. ãƒˆãƒ¼ã‚¯ãƒ³æœŸé™åˆ‡ã‚Œ â†’ ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ã§æ›´æ–°

### ãƒ˜ãƒƒãƒ€ãƒ¼ä¾‹
```http
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

## ğŸ“Š ãƒ¬ãƒ¼ãƒˆåˆ¶é™

### åˆ¶é™å€¤
- **åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼**: 100ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ™‚é–“
- **èªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼**: 1000ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ™‚é–“

### ãƒ˜ãƒƒãƒ€ãƒ¼
```http
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 99
X-RateLimit-Reset: 1640995200
```

## ğŸ” æ¤œç´¢æ©Ÿèƒ½è©³ç´°

### æ¤œç´¢å¯¾è±¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
- `title`: ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆéƒ¨åˆ†ä¸€è‡´ï¼‰
- `author`: è‘—è€…ï¼ˆéƒ¨åˆ†ä¸€è‡´ï¼‰
- `publisher`: å‡ºç‰ˆç¤¾ï¼ˆéƒ¨åˆ†ä¸€è‡´ï¼‰
- `description`: èª¬æ˜ï¼ˆéƒ¨åˆ†ä¸€è‡´ï¼‰

### æ¤œç´¢ã‚¯ã‚¨ãƒªä¾‹
```http
GET /api/books?search=Vue&genre=ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°&sort=title&order=asc
```

## ğŸ“‹ ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³

### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
- `page`: ãƒšãƒ¼ã‚¸ç•ªå·ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 1ï¼‰
- `limit`: 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 20ã€æœ€å¤§: 100ï¼‰

### ãƒ¬ã‚¹ãƒãƒ³ã‚¹
```json
{
  "pagination": {
    "currentPage": 1,
    "totalPages": 5,
    "totalItems": 89,
    "itemsPerPage": 20,
    "hasNextPage": true,
    "hasPrevPage": false
  }
}
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿

### ã‚µãƒ³ãƒ—ãƒ«æ›¸ç±ãƒ‡ãƒ¼ã‚¿
```bash
# é–‹ç™ºç”¨ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æŠ•å…¥
curl -X POST http://localhost:8080/api/books \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Goè¨€èªã«ã‚ˆã‚‹ä¸¦è¡Œãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°",
    "author": "éˆ´æœ¨ä¸€éƒ",
    "publisher": "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å‡ºç‰ˆ",
    "publicationDate": "2024-03-01",
    "genre": "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°",
    "pageCount": 380,
    "language": "æ—¥æœ¬èª",
    "owner": "é–‹ç™ºå¤ªéƒ",
    "description": "Goã®ä¸¦è¡Œå‡¦ç†ã‚’åŸºç¤ã‹ã‚‰å­¦ã¹ã‚‹å®Ÿè·µçš„ã‚¬ã‚¤ãƒ‰"
  }'
```

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´6æœˆ15æ—¥  
**APIãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v1.0  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: é–‹ç™ºä¸­